# Beszel Agent
# https://beszel.dev/guide/agent-installation
# Agent variables reference: https://beszel.dev/guide/environment-variables#agent

# Docker image tag.
# For Docker S.M.A.R.T. monitoring use an image with smartctl (for example `alpine`).
IMAGE_TAG=latest

# Data and Docker socket
#HOST_DATA_DIR=./data
#DOCKER_SOCK_PATH=/var/run/docker.sock

# Systemd monitoring sockets.
# Guide: https://beszel.dev/guide/systemd
# D-Bus socket is required for Docker-based systemd service monitoring.
#SYSTEMD_DBUS_SOCKET=/var/run/dbus/system_bus_socket
# Optional fallback if services still do not appear.
#SYSTEMD_PRIVATE_SOCKET=/var/run/systemd/private

# Optional extra filesystem bind mounts (set real paths to enable).
# Each mount is bound to the same path inside container for clearer labels.
# Leave defaults in compose to /dev/null when unused.
#EXTRA_MOUNT_1=/mnt/disk1/.beszel
#EXTRA_MOUNT_2=/mnt/disk2/.beszel
#EXTRA_MOUNT_3=/mnt/disk3/.beszel
#EXTRA_MOUNT_4=/mnt/disk4/.beszel
#EXTRA_MOUNT_5=/mnt/disk5/.beszel

# Optional GPU device passthrough (set real device nodes to enable).
# Intel/AMD examples:
#GPU_DEVICE_1=/dev/dri
#GPU_DEVICE_2=/dev/kfd
# NVIDIA examples:
#GPU_DEVICE_3=/dev/nvidiactl
#GPU_DEVICE_4=/dev/nvidia0
#GPU_DEVICE_5=/dev/nvidia-uvm

# Optional S.M.A.R.T. device passthrough for `smartctl`.
# Guide: https://beszel.dev/guide/smart-data
# Use controller/base devices (`/dev/sda`, `/dev/nvme0`), not partitions.
# You can override target path per mount with SMART_DEVICE_*_MAPPED (NVMe quirk workaround).
#SMART_DEVICE_1=/dev/sda
#SMART_DEVICE_1_MAPPED=/dev/sda
#SMART_DEVICE_2=/dev/nvme0
#SMART_DEVICE_2_MAPPED=/dev/nvme0
#SMART_DEVICE_3=/dev/null
#SMART_DEVICE_3_MAPPED=/dev/null
#SMART_DEVICE_4=/dev/null
#SMART_DEVICE_4_MAPPED=/dev/null
#SMART_DEVICE_5=/dev/null
#SMART_DEVICE_5_MAPPED=/dev/null
#SMART_DEVICE_6=/dev/null
#SMART_DEVICE_6_MAPPED=/dev/null
#SMART_DEVICE_7=/dev/null
#SMART_DEVICE_7_MAPPED=/dev/null
#SMART_DEVICE_8=/dev/null
#SMART_DEVICE_8_MAPPED=/dev/null
#SMART_DEVICE_9=/dev/null
#SMART_DEVICE_9_MAPPED=/dev/null
#SMART_DEVICE_10=/dev/null
#SMART_DEVICE_10_MAPPED=/dev/null
#SMART_DEVICE_11=/dev/null
#SMART_DEVICE_11_MAPPED=/dev/null
#SMART_DEVICE_12=/dev/null
#SMART_DEVICE_12_MAPPED=/dev/null
#SMART_DEVICE_13=/dev/null
#SMART_DEVICE_13_MAPPED=/dev/null
#SMART_DEVICE_14=/dev/null
#SMART_DEVICE_14_MAPPED=/dev/null
#SMART_DEVICE_15=/dev/null
#SMART_DEVICE_15_MAPPED=/dev/null
#SMART_DEVICE_16=/dev/null
#SMART_DEVICE_16_MAPPED=/dev/null
#SMART_DEVICE_17=/dev/null
#SMART_DEVICE_17_MAPPED=/dev/null
#SMART_DEVICE_18=/dev/null
#SMART_DEVICE_18_MAPPED=/dev/null
#SMART_DEVICE_19=/dev/null
#SMART_DEVICE_19_MAPPED=/dev/null
#SMART_DEVICE_20=/dev/null
#SMART_DEVICE_20_MAPPED=/dev/null

# Override agent data directory (fingerprint/cache state).
#DATA_DIR=

# Connectivity
# Hub URL used for outgoing WebSocket connection.
HUB_URL=https://beszel.domain.tld

# Registration token from Beszel Hub.
TOKEN=changeme

# Public key from Beszel Hub used for agent authentication.
KEY="ssh-ed25519 AAAA...your_public_key"

# Load key(s) from file instead of KEY env var.
#KEY_FILE=

# Load token from file instead of TOKEN env var.
#TOKEN_FILE=

# Listener mode
# Keep SSH listener disabled by default and use WebSocket (agent -> hub).
DISABLE_SSH=true

# Listen address/port (used when DISABLE_SSH=false).
#LISTEN=45876

# Network type for listener: tcp, tcp4, tcp6, unix.
#NETWORK=

# Optional overrides
# Explicit root filesystem device/mount for disk stats.
#FILESYSTEM=/dev/sda1

# Override Docker endpoint; set empty string to disable Docker monitoring.
#DOCKER_HOST=

# Extra disks/filesystems list to monitor.
#EXTRA_FILESYSTEMS=

# Cache interval for extra disk usage checks (example: 5m, 1h).
#DISK_USAGE_CACHE=

# Exclude containers from monitoring (supports wildcard patterns).
#EXCLUDE_CONTAINERS=

# Exclude S.M.A.R.T. devices from monitoring.
#EXCLUDE_SMART=

# Intel GPU selector passed to intel_gpu_top.
#INTEL_GPU_DEVICE=

# Windows-only: use LibreHardwareMonitor for sensors.
#LHM=false

# Agent log level: debug, info, warn, error.
#LOG_LEVEL=info

# Memory calculation mode override (example: htop).
#MEM_CALC=

# Network interface allow/deny patterns for network metrics.
#NICS=

# Enable experimental NVML GPU monitoring.
#NVML=false

# Sensor name shown in the systems overview table.
#PRIMARY_SENSOR=

# Sensor allow/deny patterns for temperature monitoring.
#SENSORS=

# Comma-separated systemd service patterns to monitor.
#SERVICE_PATTERNS=

# Disable GPU monitoring entirely.
#SKIP_GPU=false

# Disable systemd service monitoring entirely.
#SKIP_SYSTEMD=false

# Override S.M.A.R.T. devices list.
#SMART_DEVICES=

# Separator used to split SMART_DEVICES entries.
#SMART_DEVICES_SEPARATOR=,

# S.M.A.R.T. polling interval.
#SMART_INTERVAL=1h

# Override sensors sys path.
#SYS_SENSORS=

# Override system name for universal token registration.
#SYSTEM_NAME=

# Deprecated alias for LISTEN.
#PORT=

# Logging
#LOG_MAX_SIZE=5m
#LOG_MAX_FILE=5
