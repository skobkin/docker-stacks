# MeshMap Lite configuration
# https://git.skobk.in/skobkin/meshmap-lite

# Docker image tag
IMAGE_TAG=latest

# HTTP bind address and port
HTTP_BIND_ADDR=127.0.0.1
HTTP_BIND_PORT=8401

# Host data directory mounted to /data (SQLite storage)
HOST_DATA_DIR=./data

# Container user/group IDs (non-root)
PUID=1000
PGID=1000

# Required: Meshtastic MQTT root topic prefix
MML_MQTT__ROOT_TOPIC=msh/RU/CITY

# Required for one-channel setup: configure primary channel only
MML_CHANNELS__LONGFAST__PRIMARY=true

# Optional MQTT settings
MML_MQTT__HOST=
#MML_MQTT__PORT=1883
#MML_MQTT__TLS=false
#MML_MQTT__USERNAME=
#MML_MQTT__PASSWORD=
#MML_MQTT__PROTOCOL_VERSION=3.1.1
#MML_MQTT__SUBSCRIBE_QOS=1
#MML_MQTT__CLEAN_SESSION=false
#MML_MQTT__RECONNECT_TIMEOUT=10s
#MML_MQTT__CONNECT_TIMEOUT=10s
#MML_MQTT__KEEPALIVE=60s

# Optional storage settings
#MML_STORAGE__KV__DRIVER=memory
#MML_STORAGE__KV__SIZE=100000
#MML_STORAGE__KV__TTL=6h
#MML_STORAGE__SQL__DRIVER=sqlite
#MML_STORAGE__SQL__URL=/data/db.sqlite
#MML_STORAGE__SQL__AUTO_MIGRATE=true

# Optional map reports settings
#MML_MAP_REPORTS__ENABLED=true
#MML_MAP_REPORTS__TOPIC_SUFFIX=2/map

# Optional channel settings for LONGFAST
#MML_CHANNELS__LONGFAST__PSK=AQ==
#MML_CHANNELS__LONGFAST__EVENTS=text_message,node_info,position,telemetry

# Optional web settings
#MML_WEB__LISTEN_ADDR=:8080
#MML_WEB__BASE_PATH=/
#MML_WEB__CHAT__ENABLED=true
#MML_WEB__CHAT__DEFAULT_CHANNEL=longfast
#MML_WEB__CHAT__SHOW_RECENT_MESSAGES=50
#MML_WEB__WS__HEARTBEAT_INTERVAL=30s
#MML_WEB__MAP__CLUSTERING=true
#MML_WEB__MAP__DISCONNECTED_THRESHOLD=60m
#MML_WEB__MAP__DEFAULT_VIEW__LATITUDE=64.5
#MML_WEB__MAP__DEFAULT_VIEW__LONGITUDE=40.6
#MML_WEB__MAP__DEFAULT_VIEW__ZOOM=13

# Optional logging level
#MML_LOGGING__LEVEL=info

# Docker logging
LOG_MAX_SIZE=5m
LOG_MAX_FILE=5
